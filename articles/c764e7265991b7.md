---
title: "AtCoderã®Pythonç’°å¢ƒã‚’Dockerã§æ§‹ç¯‰"
emoji: "ğŸ¦”"
type: "tech"
topics:
  - "docker"
  - "python"
  - "atcoder"
published: true
published_at: "2024-11-14 15:50"
---

# ã¯ã˜ã‚ã«
LAPRASã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã«ç™»éŒ²ã—ãŸã€‚Qiita, Zennãªã©ã®å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºæ©Ÿèƒ½ãŒã‚ã‚Šã€ã“ã‚Œã¾ã§ç™»éŒ²ã—ã¦ããŸã‚µãƒ¼ãƒ“ã‚¹ã‚’ç´ã¥ã‘ã¦ã„ã‚‹ã€‚

é€£æºã‚µãƒ¼ãƒ“ã‚¹ã®ãªã‹ã«AtCoderãŒã‚ã£ãŸã€‚æ˜”ã‚„ã£ã¦ã„ãŸãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æ¶ˆã—ã¦ã—ã¾ã£ãŸã®ã§ã€å†åº¦ä½œã‚Šç›´ã™ã“ã¨ã«ã€‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¶ˆã•ãªã‘ã‚Œã°è‰¯ã‹ã£ãŸâ€¦

æ”¹ã‚ã¦ç’°å¢ƒã‚’æ§‹ç¯‰ã—ãŸã®ã§å‚™å¿˜éŒ²ã¨ã—ã¦è¨˜è¼‰ã™ã‚‹ã€‚

# AtCoderã®ãƒšãƒ¼ã‚¸
æœ¬å®¶ã¨éå»å•
- [https://atcoder.jp](https://atcoder.jp)
- [https://kenkoooo.com/atcoder/#/table/](https://kenkoooo.com/atcoder/#/table/)

# ç’°å¢ƒæ§‹ç¯‰

## ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

- https://github.com/online-judge-tools/oj
- https://github.com/Tatamo/atcoder-cli

## æˆæœç‰©
GitHubã«ç™»éŒ²æ¸ˆã¿ã€‚
- https://github.com/hoshito/py_atcoder/

ãƒã‚¤ãƒ³ãƒˆã¯ä¸‹è¨˜ã®é€šã‚Šã€‚

### 1. Dockerfile

vscodeã®ãƒšãƒ¼ã‚¸ã«non rootãƒ¦ãƒ¼ã‚¶ã®ç™»éŒ²æ–¹æ³•ãŒè¼‰ã£ã¦ã„ãŸã®ã§å‚è€ƒã«ã—ãŸã€‚
```dockerfile
# https://code.visualstudio.com/remote/advancedcontainers/add-nonroot-user
ARG USERNAME=hoshito
ARG HOME=/home/hoshito/
ARG USER_UID=1000
ARG USER_GID=$USER_UID

# Create the user
RUN <<EOF
groupadd --gid $USER_GID $USERNAME
useradd --uid $USER_UID --gid $USER_GID -m $USERNAME
apt-get update
EOF
```

ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹éš›ã«npmãŒå¿…è¦ãªã®ã§ãã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚
```dockerfile
RUN <<EOF
apt-get install -y --no-install-recommends \
nodejs \
npm
EOF

RUN <<EOF
pip install online-judge-tools
npm install -g atcoder-cli
EOF
```

### 2. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ã‚³ãƒ³ãƒ†ãƒŠã®å®Ÿè¡Œ

```bash
$ docker build . -f Dockerfile -t py_atcoder:latest
$ docker run --init -itd -name py_atcoder py_atcoder:latest
```

### 3. ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã®å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ 

å„ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒ­ã‚°ã‚¤ãƒ³ã€‚
```bash
oj login https://atcoder.jp/
acc login
```

ã“ã‚Œã§ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã«å‡ºã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã£ãŸã€‚
å®Ÿéš›ã«æå‡ºç”¨ã®ã‚³ãƒãƒ³ãƒ‰ãŒä¸‹è¨˜ã€‚
```bash
# å•é¡Œç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
$ acc new abc379

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
$ cd abc379/a
$ test

# æå‡º
$ acc s -s  -- --guess-python-interpreter pypy
```
`test`ã¯`.bash_aliases`ã«ç™»éŒ²ã—ã¦ã„ã‚‹ã€‚
https://github.com/hoshito/py_atcoder/blob/main/.bash_aliases

ã ã£ãŸã‚‰`acc s`ã‚‚ç™»éŒ²ã™ã‚Œã°è‰¯ã‹ã£ãŸã€‚ã‚ã¨ã§ç™»éŒ²ã™ã‚‹ã€‚